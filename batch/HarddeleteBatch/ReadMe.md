# プラグイン(バッチ) サンプル - データの物理削除
論理削除しているすべてのデータを、完全に削除します。

## 実行方法
- プラグインをインストールします。

- #### バッチの実行時間(時)指定
プラグイン設定画面で、0～23を入力することで設定できます。  
毎日、上記の時間にプラグインが実行されます。（例：「5」と設定した場合、毎日5:00にプラグイン実行）  
![プラグイン画面](plugin_batch1.png)  

#### バッチ実行cron指定
上級者向けです。毎日のプラグインを実行するタイミングを、cron記法で入力できます。  
※この設定を記入した場合、上記の「バッチの実行時間(時)」は無効になります。  
![プラグイン画面](plugin_batch2.png)  

#### コマンド実行
コマンドラインを使用し、任意のタイミングで手動でバッチを実行することもできます。  
以下のコマンドのいずれかを実行してください。  

~~~
# プラグインID指定
php artisan exment:batch 1

# plugin_name(プラグイン名)指定
php artisan exment:batch --name=harddelete_data

# uuid指定
php artisan exment:batch --uuid=b5c0a5d2-2716-4161-98d0-b490c1ebc521
~~~  

## 権限設定
プラグイン登録後に役割グループ設定で、権限の付与を行ってください。  
プラグインの権限としては以下の2種類があります。  
- "設定変更"はプラグイン管理の編集画面で設定を変更できる権限です。  
- "利用・アクセス"はプラグインのエンドポイントにアクセスしてCRUD機能を利用する権限です。  